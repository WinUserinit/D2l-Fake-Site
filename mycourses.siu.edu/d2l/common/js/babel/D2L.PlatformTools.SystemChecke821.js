D2L.PT.SystemCheck={};D2L.PT.SystemCheck.Checks={JavaScriptCheck:function(){return{Result:true,FailureCode:-1};},CookiesCheck:function(){return{Result:navigator.cookieEnabled,FailureCode:navigator.cookieEnabled?-1:0};},BrowserCheck:function(result){return{Result:result,FailureCode:0};},DisplayCheck:function(minValue){if(screen.height<minValue&&screen.width<minValue){return{Result:false,FailureCode:0};}return{Result:true,FailureCode:-1};},JavaCheck:function(){if(!navigator.javaEnabled()){return{Result:false,FailureCode:0};}return{Result:true,FailureCode:-1};},PluginCheck:function(controls,plugins){var control=null;var pluginFound=false;if(window.ActiveXObject!==undefined){for(var i=0;i<controls.length;i++){try{control=new ActiveXObject(controls[i]);}catch(e){}if(control){break;}}}else if(navigator.plugins!==undefined){for(var i=0;i<plugins.length;i++){var plugin=plugins[i].toLowerCase();for(var j=0;j<navigator.plugins.length;j++){var name=navigator.plugins[j].name.toLowerCase();var description=navigator.plugins[j].description.toLowerCase();if(name.indexOf(plugin)>-1||description.indexOf(plugin)>-1){pluginFound=true;break;}}if(pluginFound){break;}}}if(!control&&!pluginFound){return{Result:false,FailureCode:0};}return{Result:true,FailureCode:-1};}};D2L.PT.SystemCheck.Manager={WarningCount:0,RecommendationCount:0,GetWarningCount:function(){return D2L.PT.SystemCheck.Manager.WarningCount;},GetRecommendationCount:function(){return D2L.PT.SystemCheck.Manager.RecommendationCount;},Initialize:function(checks,completeFunction){var me=D2L.PT.SystemCheck.Manager;var HandleResult=function(result,index){var check=checks[index];if(result.AddListener!==undefined){result.AddListener(function(newResult){HandleResult(newResult,index);});}else{if(result.Result){if(check.PassFunction!==null){check.PassFunction();}}else{if(check.IsCritical){me.WarningCount++;}else{me.RecommendationCount++;}if(check.FailFunctions!==null&&check.FailFunctions.length>result.FailureCode){check.FailFunctions[result.FailureCode]();}}RunCheck(++index);}};var RunCheck=function(index){if(index===checks.length){completeFunction();return;}var result=checks[index].ValidationFunction();HandleResult(result,index);};RunCheck(0);}};D2L.PT.SystemCheck.Widget={Build:function(numRecommendations,recommendationFunction){if(numRecommendations>0){recommendationFunction();}}};